{{ define "main" }}
<html lang="{{ .Site.LanguageCode }}">
<head>
    {{- partial "head.html" . -}}
    {{ `
      <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
    ` | safeHTML }}

    {{- partial "favicon.html" . -}}
    {{ with .OutputFormats.Get "RSS" }}
      {{ printf `<link href="%s" rel="%s" type="%s" title="%s" />` .Permalink .Rel .MediaType.Type $.Site.Title | safeHTML }}
    {{ end }}
    {{- partial "opengraph.html" . -}}
    {{ template "_internal/twitter_cards.html" . }}
    {{ template "_internal/google_analytics.html" . }}
</head>
<h1>{{- .Page.Title -}}</h1>
<br/>
{{- .Content -}}

<div class="posts-list">
{{ range sort .Data.Pages "Date" "desc" }}
    {{ if not .Params.draft }}
        <div class="post">
            <div class="date">{{- .PublishDate.Format "Jan. 2, 2006" -}}
            {{ partial "first-tag.html" .}}
            </div>    
            <h1><a href="{{ .Permalink }}" title="{{ .Title }}">{{- .Title -}}</a></h1>
            {{- .Summary | emojify -}}&nbsp;-&nbsp;{{- $readTime := mul (div (countwords .Content) 220.0) 60 -}}
 {{- math.Floor (div $readTime 60) }} minutes and  {{  mod $readTime 60 }} seconds.
        </div>
    {{ end }}
{{ end }}
</div>
</html>
{{ end }}